<!DOCTYPE html>
<html lang="en">
<head>
  <title>Bootstrap Example</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
	<script>
	$(function(){
		$('#myModal').hide();
		//////////우편번호검색////////////////////////////////////
		$('#dongbtn').on('click',function(){
			if($('#dong').val()==""){
				alert("동을 입력하세요");
				return;
			}
			dongval=$('#dong').val();
			$.post(
				'zipSearch.jsp',
				"dong="+dongval,
				function(res){
					code = "<table><tr><th>우편번호</th><th>주소</th><th>번지</th></tr>";
					$.each(res,function(i){
						code+="<tr><td>"+res[i].zipcode+"</td>";
						code+="<td>"+res[i].addr+"</td>";
						code+="<td>"+res[i].bunji+"</td></tr>";
					})
					code += "</table>";
					$('#result').html(code);
				},
				'json'
			)
		});
		
		///////////////////////////////////////////////////////////////////
		$('#idcheck').on('click',function(){
			//입력한 id를 가져온다.
			idval=$('#id').val();
			$.post(
				'idCheck.jsp',
				"id="+idval,
// 				{"id":idval},
				function(res){
					$('#idspan').css('color','red');
					if(res.flag=="ok"){
						$('#idspan').html(idval+"은 사용가능한 id입니다.")
					}else{
						$('#idspan').html(idval+"은 사용 불가능한 id입니다.")
					}
// 					$('#idspan').html(res);
// 					$('#idspan').css('color','red');
				},
				'json'
// 				'text'
			)
		});
		///////////////////////////////////////////////////////////////////
		
		
		
	});
	
	</script>
<style>
	th{
		text-align:center;
	}
	th, td{
		padding: 5px;
	}
	
	tr:hover{
		background: linen;
	}
</style>

</head>
<body>

<div class="container">
  <h2>회원 가입</h2>
  <form class="form-horizontal">
  
    <div class="form-group">
      <label class="control-label col-sm-2" for="id">아이디:</label>
      <div class="col-sm-3">
        <input type="text" class="form-control" id="id" placeholder="Enter id" name="mem_id">
      </div>
      <button id="idcheck" type="button" class="btn btn-primary btn-sm">중복검사</button>
	  <span id="idspan"></span>
    </div>
    
    

    
    <div class="form-group">
      <label class="control-label col-sm-2" for="pwd">Password:</label>
      <div class="col-sm-3">          
        <input type="password" class="form-control" id="pwd" placeholder="Enter password" name="mem_pass">
      </div>
    </div>
    
    <div class="form-group">
      <label class="control-label col-sm-2" for="name">이름:</label>
      <div class="col-sm-3">
        <input type="text" class="form-control" id="name" placeholder="Enter name" name="mem_name">
      </div>
    </div>
    
    <div class="form-group">  
      <label class="control-label col-sm-2" for="email">Email:</label>
      <div class="col-sm-3">
        <input type="email" class="form-control" id="email" placeholder="Enter email" name="mem_mail">
      </div>
    </div>
    
    
    <div class="form-group">  
      <label class="control-label col-sm-2" for="hp">전화번호:</label>
      <div class="col-sm-3">
        <input type="text" class="form-control" id="hp" placeholder="Enter hp" name="mem_hp">
      </div>
    </div>
    
    
    <div class="form-group">  
      <label class="control-label col-sm-2" for="zip">우편번호:</label>
      <div class="col-sm-3">
        <input type="text" class="form-control" id="zip" placeholder="Enter zip" name="mem_zip">
      </div>
      <button id="zipbtn" type="button" class="btn btn-primary btn-sm"  data-toggle="modal" data-target="#myModal" >번호검색</button>
	  <span></span>
    </div>
    
    
    <div class="form-group">  
      <label class="control-label col-sm-2" for="add1">주소:</label>
      <div class="col-sm-5">
        <input type="text" class="form-control" id="add1" placeholder="Enter add1" name="mem_add1">
      </div>
    </div>
    
    
    <div class="form-group">  
      <label class="control-label col-sm-2" for="add2">상세주소:</label>
      <div class="col-sm-5">
        <input type="text" class="form-control" id="add2" placeholder="Enter add2" name="mem_add2">
      </div>
    </div>
    
    <div class="form-group">        
      <div class="col-sm-offset-2 col-sm-10">
        <button id="joinbtn" type="button" class="btn btn-danger btn-md">Submit</button>
      </div>
    </div>
    
  </form>
</div>








<!-- Modal -->
  <div class="modal fade" id="myModal" role="dialog">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">&times;</button>
          <h4 class="modal-title">우편번호 검색</h4>
        </div>
        <div class="modal-body">
          <p>찾고자 하는 동을 입력하세요.</p>
          <input type="text" name="dong" id="dong">
          <button id="dongbtn">검색</button>
          <br><br>
          <div id=result ></div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>


</body>
</html>
